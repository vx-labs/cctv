{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?9d8d","webpack:///./src/components/AppDrawer.vue?0dcd","webpack:///./src/components/NightModeSelector.vue?9d14","webpack:///./src/components/NightModeSelector.vue","webpack:///./src/components/NightModeSelector.vue?f071","webpack:///./src/components/NightModeSelector.vue?406d","webpack:///./src/components/MQTTStatus.vue?9e2f","webpack:///./src/components/MQTTStatus.vue","webpack:///./src/components/MQTTStatus.vue?c86c","webpack:///./src/components/MQTTStatus.vue?58c5","webpack:///./src/components/AuthButton.vue?534b","webpack:///./src/components/AuthButton.vue","webpack:///./src/components/AuthButton.vue?1a9c","webpack:///./src/components/AuthButton.vue?1425","webpack:///./src/components/AppDrawer.vue","webpack:///./src/components/AppDrawer.vue?edc0","webpack:///./src/components/AppDrawer.vue?c594","webpack:///./src/App.vue","webpack:///./src/App.vue?4dbd","webpack:///./src/App.vue?4195","webpack:///./src/views/Home.vue?975a","webpack:///./src/components/CameraView.vue?7044","webpack:///./src/components/CameraView.vue","webpack:///./src/components/CameraView.vue?41aa","webpack:///./src/components/CameraView.vue?99c7","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?f458","webpack:///./src/views/Home.vue","webpack:///./src/views/Login.vue?11b8","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?3a4e","webpack:///./src/views/Login.vue","webpack:///./src/store/services/auth.service.ts","webpack:///./src/store/modules/session.ts","webpack:///./src/store/services/api.service.ts","webpack:///./src/store/types.ts","webpack:///./src/store/index.ts","webpack:///./src/router/index.ts","webpack:///./src/plugins/vuetify.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","_v","staticRenderFns","scopedSlots","_u","fn","proxy","staticClass","profile","picture","_s","given_name","family_name","toUpperCase","email","_e","on","$event","$vuetify","theme","dark","extend","component","VIcon","VList","VListItem","VListItemIcon","VListItemTitle","isMQTTConnecting","isMQTTConnected","computed","VProgressCircular","toogleAuthentication","domProps","authenticated","methods","components","AuthButton","MQTTStatus","NightModeSelector","VDivider","VImg","VListItemAvatar","VListItemContent","VListItemSubtitle","VNavigationDrawer","AppDrawer","mounted","handleAuthentication","$store","getters","dispatch","location","search","includes","lastPath","undefined","$router","replace","pathname","console","log","VApp","VAppBar","VContainer","VFooter","VMain","VSpacer","VToolbarTitle","VToolbar","isAlarmArmed","_l","camera","ref","hover","class","encodedImage","state","moveCameraY","steps","moveCameraX","refresh","props","lastFrame","VBtn","VCard","VCardTitle","VCol","VHover","VOverlay","VRow","CameraView","authenticationPending","doLogin","login","searchParams","doCheck","$nextTick","watch","VListItemGroup","VSubheader","domain","clientID","auth0","client_id","redirect_uri","origin","cacheLocation","connection","audience","appState","loginWithRedirect","keys","localStorage","startsWith","removeItem","logout","returnTo","getTokenSilently","handleRedirectCallback","getUser","auth","authModule","mutations","authenticationFailed","appStateRecovered","profileFetched","actions","commit","refreshToken","token","userProfile","endpoint","httpClient","a","baseURL","timeout","headers","resp","post","input","password","active","id","delete","sort","b","localeCompare","client","use","instance","getItem","Math","random","toString","substr","setItem","connected","connecting","offlineReason","clientId","matchPattern","topic","pattern","topicTokens","split","patternTokens","lt","username","api","cameras","alarmArmed","mqtt","Store","usernameSet","alarmDisarmed","mqttStarted","mqttConnected","mqttConnecting","mqttDisconnected","reason","cameraDiscovered","cameraFrameUpdated","opts","idx","findIndex","elt","set","assign","frame","cameraStateUpdated","refreshUsername","root","getAccountInformations","info","usernames","createAccount","refreshFrame","some","Promise","resolve","reject","publish","qos","err","Error","startMQTTClient","listDevices","devices","oldSelf","find","deleteDevice","createDevice","connect","connectTimeout","protocolId","protocolVersion","host","hostname","message","tokens","subscribe","session","to","from","next","store","path","query","lastPage","fullPath","routes","Home","beforeEnter","Login","router","base","config","productionTip","vuetify","render","h","App","$mount"],"mappings":"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","file":"js/app.dea72d19.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('AppDrawer'),_c('v-app-bar',{attrs:{\"height\":\"73\",\"app\":\"\",\"flat\":\"\"}},[_c('v-spacer'),_c('v-toolbar-title',[_c('v-icon',[_vm._v(\"mdi-cctv\")])],1)],1),_c('v-main',[_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('router-view')],1)],1),_c('v-footer',{attrs:{\"app\":\"\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.authenticated)?_c('v-navigation-drawer',{attrs:{\"app\":\"\",\"permanent\":\"\",\"expand-on-hover\":\"\"},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('NightModeSelector'),_c('MQTTStatus'),_c('AuthButton')]},proxy:true}],null,false,3548894554)},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item',{staticClass:\"px-2\"},[_c('v-list-item-avatar',[_c('v-img',{attrs:{\"src\":_vm.profile.picture}})],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(_vm._s(_vm.profile.given_name)+\" \"+_vm._s(_vm.profile.family_name.toUpperCase()))]),_c('v-list-item-subtitle',[_vm._v(_vm._s(_vm.profile.email))])],1)],1)],1),_c('v-divider'),_c('v-list',{attrs:{\"nav\":\"\",\"dense\":\"\"}},[_c('v-list-item',{attrs:{\"link\":\"\",\"to\":\"/\"}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-home\")])],1),_c('v-list-item-title',[_vm._v(\"Home page\")])],1)],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-list',{attrs:{\"nav\":\"\",\"dense\":\"\"}},[_c('v-list-item',{on:{\"click\":function($event){_vm.$vuetify.theme.dark=!_vm.$vuetify.theme.dark}}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-theme-light-dark\")])],1),_c('v-list-item-title',[_vm._v(\" Switch theme to \"+_vm._s(_vm.$vuetify.theme.dark? 'light': 'dark'))])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\n\nexport default Vue.extend({\n\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NightModeSelector.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NightModeSelector.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NightModeSelector.vue?vue&type=template&id=6221155d&\"\nimport script from \"./NightModeSelector.vue?vue&type=script&lang=ts&\"\nexport * from \"./NightModeSelector.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VIcon,VList,VListItem,VListItemIcon,VListItemTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-list',{attrs:{\"nav\":\"\",\"dense\":\"\"}},[_c('v-list-item',{attrs:{\"disabled\":_vm.isMQTTConnecting || !_vm.isMQTTConnected}},[_c('v-list-item-icon',[(_vm.isMQTTConnecting)?_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"width\":\"2\"}}):_c('span',[(_vm.isMQTTConnected)?_c('v-icon',[_vm._v(\"mdi-cloud-outline\")]):_c('v-icon',[_vm._v(\"mdi-cloud-off-outline\")])],1)],1),_c('v-list-item-title',[_vm._v(_vm._s(_vm.isMQTTConnecting? 'Connecting...': _vm.isMQTTConnected? 'Connected' : 'Disconnected'))])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport { mapGetters } from 'vuex'\n\nexport default Vue.extend({\n  computed: {\n    ...mapGetters([\"isMQTTConnected\", \"isMQTTConnecting\"]),\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MQTTStatus.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MQTTStatus.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MQTTStatus.vue?vue&type=template&id=16103514&\"\nimport script from \"./MQTTStatus.vue?vue&type=script&lang=ts&\"\nexport * from \"./MQTTStatus.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\ninstallComponents(component, {VIcon,VList,VListItem,VListItemIcon,VListItemTitle,VProgressCircular})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-list',{attrs:{\"nav\":\"\",\"dense\":\"\"}},[_c('v-list-item',{on:{\"click\":_vm.toogleAuthentication}},[_c('v-list-item-icon',[(_vm.authenticated)?_c('v-icon',[_vm._v(\"mdi-logout\")]):_c('v-icon',[_vm._v(\"mdi-login\")])],1),_c('v-list-item-title',{domProps:{\"innerHTML\":_vm._s(_vm.authenticated? 'Logout': 'Login')}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport { mapActions, mapGetters } from 'vuex'\nexport default Vue.extend({\n  name: 'AuthButton',\n  computed: {\n    ...mapGetters(['authenticated'])\n  },\n  methods: {\n    ...mapActions(['toogleAuthentication'])\n  }\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AuthButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AuthButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AuthButton.vue?vue&type=template&id=fb86fcf2&\"\nimport script from \"./AuthButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./AuthButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VIcon,VList,VListItem,VListItemIcon,VListItemTitle})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport NightModeSelector from \"@/components/NightModeSelector.vue\";\nimport MQTTStatus from \"@/components/MQTTStatus.vue\";\nimport AuthButton from \"@/components/AuthButton.vue\";\nimport { mapGetters } from 'vuex'\n\nimport Vue from 'vue'\nexport default Vue.extend({\n  components: { AuthButton, MQTTStatus, NightModeSelector },\n  computed: {\n    ...mapGetters([\"authenticated\", \"profile\"])\n  },\n})\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppDrawer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppDrawer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AppDrawer.vue?vue&type=template&id=2110b567&\"\nimport script from \"./AppDrawer.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppDrawer.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemAvatar } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VNavigationDrawer } from 'vuetify/lib/components/VNavigationDrawer';\ninstallComponents(component, {VDivider,VIcon,VImg,VList,VListItem,VListItemAvatar,VListItemContent,VListItemIcon,VListItemSubtitle,VListItemTitle,VNavigationDrawer})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport AppDrawer from \"@/components/AppDrawer.vue\";\nimport Vue from 'vue'\nimport { mapActions } from 'vuex'\n\nexport default Vue.extend({\n  name: 'App',\n  components: { AppDrawer },\n  methods: {\n    ...mapActions([\"handleAuthentication\"])\n  },\n  async mounted() {\n    await this.handleAuthentication();\n    if (this.$store.getters.authenticated) {\n      (async () => {\n        await this.$store.dispatch('refreshUsername');\n        this.$store.dispatch('startMQTTClient');\n      })();\n      if (\n        window.location.search.includes(\"code=\")) {\n        const lastPath = this.$store.getters.lastPath;\n        if (lastPath !== undefined) {\n          this.$router.replace(lastPath);\n        } else {\n          this.$router.replace(window.location.pathname);\n        }\n      }\n    } else {\n      console.log('auth failed')\n    }\n  },\n});\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=776b140c&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VFooter } from 'vuetify/lib/components/VFooter';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMain } from 'vuetify/lib/components/VMain';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VApp,VAppBar,VContainer,VFooter,VIcon,VMain,VSpacer,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[(!_vm.isAlarmArmed)?_c('v-overlay',{attrs:{\"opacity\":\"0.8\",\"absolute\":\"\"}},[_vm._v(\" Alarm is currently disarmed. \")]):_vm._e(),_c('v-row',_vm._l((_vm.cameras),function(camera){return _c('v-col',{key:camera.name,attrs:{\"xs\":\"12\",\"md\":\"6\"}},[_c('CameraView',{attrs:{\"camera\":camera}})],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-hover',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar hover = ref.hover;\nreturn [_c('v-card',{class:{ 'on-hover': hover },attrs:{\"outlined\":\"\",\"elevation\":hover ? 4 : 0}},[_c('v-img',{staticClass:\"white--text align-end\",attrs:{\"dark\":\"\",\"src\":_vm.encodedImage}},[(_vm.camera.state !== 'ready')?_c('v-overlay',{attrs:{\"opacity\":\"0.8\",\"absolute\":\"\"}},[_vm._v(\" \"+_vm._s(_vm.camera.name)+\" is unavailable (\"+_vm._s(_vm.camera.state)+\"). \")]):_c('v-row',{attrs:{\"align\":\"end\",\"justify\":\"space-around\"}},[_c('v-col',[_c('v-card-title',[_vm._v(_vm._s(_vm.camera.name))])],1),_c('v-col',{attrs:{\"cols\":\"3\"}},[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_c('v-spacer')],1),_c('v-col',[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.moveCameraY({ name: _vm.camera.name, steps: 50})}}},[_c('v-icon',[_vm._v(\"mdi-menu-up\")])],1)],1),_c('v-col',[_c('v-spacer')],1)],1),_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.moveCameraX({ name: _vm.camera.name, steps: -150})}}},[_c('v-icon',[_vm._v(\"mdi-menu-left\")])],1)],1),_c('v-col',[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.refresh}},[_c('v-icon',[_vm._v(\"mdi-refresh\")])],1)],1),_c('v-col',[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.moveCameraX({ name: _vm.camera.name, steps: 150})}}},[_c('v-icon',[_vm._v(\"mdi-menu-right\")])],1)],1)],1),_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',[_c('v-spacer')],1),_c('v-col',[_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){return _vm.moveCameraY({ name: _vm.camera.name, steps: -50})}}},[_c('v-icon',[_vm._v(\"mdi-menu-down\")])],1)],1),_c('v-col',[_c('v-spacer')],1)],1)],1)],1)],1)],1)]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue';\nimport { mapActions } from 'vuex';\n\nexport default Vue.extend({\n  name: 'CameraView',\n  props: {\n    camera: Object,\n  },\n  computed: {\n    encodedImage(): string {\n      return `data:image/jpeg;base64,${this.camera.lastFrame}`;\n    },\n  },\n  methods: {\n    refresh() { this.$store.dispatch('refreshFrame', this.camera.name) },\n    ...mapActions(['moveCameraX', 'moveCameraY'])\n  }\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CameraView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CameraView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CameraView.vue?vue&type=template&id=30695a65&\"\nimport script from \"./CameraView.vue?vue&type=script&lang=ts&\"\nexport * from \"./CameraView.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VHover } from 'vuetify/lib/components/VHover';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardTitle,VCol,VHover,VIcon,VImg,VOverlay,VRow,VSpacer})\n","<template>\n  <v-container fluid>\n    <v-overlay v-if=\"!isAlarmArmed\" opacity=\"0.8\" absolute>\n      Alarm is currently disarmed.\n    </v-overlay>\n    <v-row>\n      <v-col xs=\"12\" md=\"6\" v-for=\"camera in cameras\" :key=\"camera.name\">\n        <CameraView :camera=\"camera\" />\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\n\nimport { mapGetters } from 'vuex';\nimport CameraView from '@/components/CameraView.vue'\n\nexport default {\n  name: 'Home',\n  components: {\n    CameraView,\n  },\n  computed: {\n    ...mapGetters(['cameras', 'isAlarmArmed']),\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=0b118174&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VCol,VContainer,VOverlay,VRow})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',[_c('h2',{staticClass:\"text-h2\"},[_vm._v(\"VX-Labs CCTV Platform\")]),_c('v-row',{staticClass:\"ma-4\"},[_c('span',{staticClass:\"font-weight-light\"},[_vm._v(\" Greetings ! \"),_c('br'),_vm._v(\"Welcome to VX-Labs CCTV Platform. \"),_c('br'),_vm._v(\"From here, you can login into your account, or read some documentation about the platform. \"),_c('br')])]),_c('v-row',{staticClass:\"ma-4\"},[_c('v-card',{staticClass:\"ma-2\",attrs:{\"outlined\":\"\",\"loading\":_vm.authenticationPending}},[_c('v-list',[_c('v-subheader',[_vm._v(\"Login\")]),_c('v-list-item-group',[_c('v-list-item',{on:{\"click\":function($event){return _vm.doLogin()}}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-login\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Access your account\")]),_c('v-list-item-subtitle',[_c('span',{staticClass:\"font-weight-light\"},[_vm._v(\"Access your account, or create a new one, by clicking this link\")])])],1)],1),_c('v-list-item',{attrs:{\"to\":\"/support\"}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-email\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"Contact support\")]),_c('v-list-item-subtitle',[_c('span',{staticClass:\"font-weight-light\"},[_vm._v(\"Got technical issues? Contact support now.\")])])],1)],1)],1)],1)],1),_c('v-card',{staticClass:\"ma-2\",attrs:{\"outlined\":\"\"}},[_c('v-list',[_c('v-subheader',[_vm._v(\"Learn more\")]),_c('v-list-item-group',[_c('v-list-item',{attrs:{\"to\":\"/about\"}},[_c('v-list-item-icon',[_c('v-icon',[_vm._v(\"mdi-book\")])],1),_c('v-list-item-content',[_c('v-list-item-title',[_vm._v(\"CCTV Platform\")]),_c('v-list-item-subtitle',[_c('span',{staticClass:\"font-weight-light\"},[_vm._v(\"What's this platform?\")])])],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container>\n    <h2 class=\"text-h2\">VX-Labs CCTV Platform</h2>\n    <v-row class=\"ma-4\">\n      <span class=\"font-weight-light\">\n        Greetings !\n        <br />Welcome to VX-Labs CCTV Platform.\n        <br />From here, you can login into your account, or read some documentation about the platform.\n        <br />\n      </span>\n    </v-row>\n    <v-row class=\"ma-4\">\n      <v-card outlined class=\"ma-2\" :loading=\"authenticationPending\">\n        <v-list>\n          <v-subheader>Login</v-subheader>\n          <v-list-item-group>\n            <v-list-item @click=\"doLogin()\">\n              <v-list-item-icon>\n                <v-icon>mdi-login</v-icon>\n              </v-list-item-icon>\n              <v-list-item-content>\n                <v-list-item-title>Access your account</v-list-item-title>\n                <v-list-item-subtitle>\n                  <span\n                    class=\"font-weight-light\"\n                  >Access your account, or create a new one, by clicking this link</span>\n                </v-list-item-subtitle>\n              </v-list-item-content>\n            </v-list-item>\n            <v-list-item to=\"/support\">\n              <v-list-item-icon>\n                <v-icon>mdi-email</v-icon>\n              </v-list-item-icon>\n              <v-list-item-content>\n                <v-list-item-title>Contact support</v-list-item-title>\n                <v-list-item-subtitle>\n                  <span class=\"font-weight-light\">Got technical issues? Contact support now.</span>\n                </v-list-item-subtitle>\n              </v-list-item-content>\n            </v-list-item>\n          </v-list-item-group>\n        </v-list>\n      </v-card>\n      <v-card outlined class=\"ma-2\">\n        <v-list>\n          <v-subheader>Learn more</v-subheader>\n          <v-list-item-group>\n            <v-list-item to=\"/about\">\n              <v-list-item-icon>\n                <v-icon>mdi-book</v-icon>\n              </v-list-item-icon>\n              <v-list-item-content>\n                <v-list-item-title>CCTV Platform</v-list-item-title>\n                <v-list-item-subtitle>\n                  <span class=\"font-weight-light\">What's this platform?</span>\n                </v-list-item-subtitle>\n              </v-list-item-content>\n            </v-list-item>\n          </v-list-item-group>\n        </v-list>\n      </v-card>\n    </v-row>\n  </v-container>\n</template>\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nexport default {\n  computed: {\n    ...mapGetters([\"authenticated\", \"authenticationPending\"]),\n  },\n  methods: {\n    ...mapActions([\"login\"]),\n    doLogin() {\n      const searchParams = new URLSearchParams(window.location.search);\n      return this.login(searchParams.get('lastPage'));\n    },\n    doCheck() {\n      if (this.authenticated) {\n        const searchParams = new URLSearchParams(window.location.search);\n        this.$router.replace(searchParams.get('lastPage'))\n      }\n    }\n  },\n  mounted() {\n    this.$nextTick(() => this.doCheck());\n  },\n  watch: {\n    authenticated() {\n      this.doCheck();\n    },\n  }\n}\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=28fd5538&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemGroup } from 'vuetify/lib/components/VList';\nimport { VListItemIcon } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSubheader } from 'vuetify/lib/components/VSubheader';\ninstallComponents(component, {VCard,VContainer,VIcon,VList,VListItem,VListItemContent,VListItemGroup,VListItemIcon,VListItemSubtitle,VListItemTitle,VRow,VSubheader})\n","/* eslint-disable */\n\nimport { Auth0Client } from '@auth0/auth0-spa-js';\n\n\nexport default class Authenticator {\n  private auth0: Auth0Client;\n  constructor(domain: string, clientID: string) {\n    this.auth0 = new Auth0Client({\n      domain: domain,\n      client_id: clientID,\n      redirect_uri: window.location.origin + '/login',\n      cacheLocation: \"localstorage\",\n      connection: 'google-oauth2',\n      audience: 'https://api.iot.cloud.vx-labs.net',\n    })\n  }\n\n  login(appState?: string) {\n    return this.auth0.loginWithRedirect({\n      appState: appState,\n    });\n  }\n  logout() {\n    const keys = Object.keys(localStorage);\n    let i = keys.length;\n\n    while (i--) {\n      const key = localStorage.key(i);\n      if (key !== null && key.startsWith('@@auth0')) {\n        localStorage.removeItem(key);\n        break;\n      }\n    }\n\n    return this.auth0.logout({\n      returnTo: window.location.origin,\n    });\n  }\n  async handleAuthentication(): Promise<any> {\n    try {\n      await this.auth0.getTokenSilently();\n      return;\n    } catch {\n      const result = await this.auth0.handleRedirectCallback();\n      return result.appState\n    }\n  }\n  async userProfile(): Promise<any> {\n    return this.auth0.getUser();\n  }\n  async token(): Promise<string> {\n    return await this.auth0.getTokenSilently();\n  }\n}","import Authenticator from '@/store/services/auth.service'\nimport { domain, clientId } from \"../../../auth_config.json\"\nimport { Module } from 'vuex';\n\nconst auth = new Authenticator(domain, clientId)\n\nclass SessionState {\n  authenticated = false;\n  authenticationPending = false;\n  lastPath?: string;\n  profile?: any;\n}\n\n\nconst authModule: Module<any, any> = {\n  state: new SessionState(),\n  getters: {\n    authenticated(state) {\n      return state.authenticated\n    },\n    authenticationPending(state) {\n      return state.authenticationPending\n    },\n    lastPath(state: SessionState) {\n      return state.lastPath;\n    },\n    profile(state: SessionState) { return state.profile },\n  },\n  mutations: {\n    authenticationPending(state: SessionState) {\n      state.authenticationPending = true;\n    },\n    authenticationFailed(state: SessionState) {\n      state.authenticationPending = false;\n    },\n    appStateRecovered(state: SessionState, appState: any) {\n      state.lastPath = appState;\n    },\n    profileFetched(state: SessionState, profile: any) {\n      state.profile = profile;\n      state.authenticated = true;\n      state.authenticationPending = false;\n    },\n    logout(state: SessionState) {\n      state.authenticated = false\n    }\n  },\n  actions: {\n    toogleAuthentication({ state, dispatch }) {\n      if (state.authenticated) {\n        return dispatch('logout');\n      } else {\n        return dispatch('login');\n      }\n    },\n    async login({ commit }, appState?: string) {\n      commit('authenticationPending');\n      return auth.login(appState);\n    },\n    logout({ commit }) {\n      auth.logout();\n      commit('logout')\n    },\n    async refreshToken() {\n      return auth.token();\n    },\n    async handleAuthentication({ commit }) {\n      commit('authenticationPending');\n      try {\n        const appState = await auth.handleAuthentication();\n        const profile = await auth.userProfile();\n        if (appState !== undefined) {\n          commit('appStateRecovered', appState);\n        }\n        commit('profileFetched', profile);\n      } catch {\n        commit('authenticationFailed');\n      }\n    }\n  }\n}\n\nexport default authModule;","import axios, { AxiosInstance } from 'axios';\nimport { Device, AccountInformations, CreateDeviceRequest } from '../types';\n\nexport class ApiClient {\n  private httpClient: AxiosInstance;\n  constructor(endpoint: string) {\n    this.httpClient = axios.create({\n      baseURL: endpoint,\n      timeout: 3000,\n    });\n  }\n  async getAccountInformations(token: string): Promise<AccountInformations> {\n    const resp = await this.httpClient.get(`/account/info/`,\n      {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        }\n      });\n    return (resp.data as AccountInformations);\n\n  }\n  async createAccount(token: string): Promise<AccountInformations> {\n    const resp = await this.httpClient.post(`/account/`,\n      {},\n      {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        }\n      });\n    return (resp.data as AccountInformations);\n  }\n  async createDevice(token: string, input: CreateDeviceRequest): Promise<void> {\n    return this.httpClient.post(`/devices/`,\n      {\n        name: input.name,\n        password: input.password,\n        active: input.active,\n      },\n      {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        }\n      });\n  }\n  async deleteDevice(token: string, id: string): Promise<void> {\n    return this.httpClient.delete(`/devices/${id}`,\n      {\n        headers: {\n          'Authorization': `Bearer ${token}`,\n        }\n      });\n  }\n  async listDevices(token: string): Promise<Device[]> {\n    const resp = await this.httpClient.get('/devices/', {\n      headers: {\n        'Authorization': `Bearer ${token}`,\n      }\n    });\n    return (resp.data as Device[]).sort((a, b) => a.name.localeCompare(b.name));\n  }\n}","import { ApiClient } from './services/api.service';\nexport interface AccountInformations {\n  id: string;\n  usernames: string[];\n}\nexport interface CreateDeviceRequest {\n  name: string;\n  password: string;\n  active: boolean;\n}\nexport interface Device {\n  id: string;\n  name: string;\n  createdAt: number;\n  active: boolean;\n  password: string;\n  connected: boolean;\n  receivedBytes: number;\n  sentBytes: number;\n  subscriptionCount: number;\n  humanStatus: string;\n  pendingAsyncAction: boolean;\n}\nexport class Api {\n  client = new ApiClient('https://api.iot.cloud.vx-labs.net');\n}","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport { connect, MqttClient } from 'mqtt';\nimport session from './modules/session'\nimport { Api, Device } from './types';\n\nVue.use(Vuex)\n\nlet instance = localStorage.getItem('cctv:instance');\nif (instance === null) {\n  instance = Math.random().toString(36).substr(2, 8);\n  localStorage.setItem('cctv:instance', instance);\n}\n\n\nclass MqttState {\n  connected = false;\n  connecting = false;\n  offlineReason = '';\n  clientId = `cctv-console-${instance}`\n  client?: MqttClient = undefined;\n}\n\n\nfunction matchPattern(topic: string, pattern: string): boolean {\n  const topicTokens = topic.split('/');\n  const patternTokens = pattern.split('/');\n\n  let i = 0;\n  for (const lt = topicTokens.length; i < lt; i++) {\n    if (patternTokens[i] === '#') {\n      return true;\n    } else if (patternTokens[i] !== '+' && patternTokens[i] !== topicTokens[i]) {\n      return false;\n    }\n  }\n\n  if (patternTokens[i] === '#') {\n    i += 1;\n  }\n\n  return (i === patternTokens.length) ? true : false;\n}\n\ninterface Camera {\n  name: string;\n  state: string;\n  lastFrame?: string;\n}\n\nexport class MainState {\n  username?: string = undefined;\n  api = new Api();\n  cameras = ([] as Camera[]);\n  alarmArmed = false;\n  mqtt = new MqttState();\n}\n\nexport default new Vuex.Store({\n  state: new MainState(),\n  getters: {\n    isMQTTConnecting(state) { return state.mqtt.connecting },\n    isMQTTConnected(state) { return state.mqtt.connected },\n    username(state) { return state.username },\n    cameras(state) { return state.cameras },\n    isAlarmArmed(state) { return state.alarmArmed },\n  },\n  mutations: {\n    usernameSet(state, username: string) {\n      state.username = username;\n    },\n    alarmArmed(state) { state.alarmArmed = true },\n    alarmDisarmed(state) { state.alarmArmed = false },\n    mqttStarted(state, client: MqttClient) { state.mqtt.client = client },\n    mqttConnected(state) { state.mqtt.connecting = false; state.mqtt.connected = true; },\n    mqttConnecting(state) { state.mqtt.connected = false; state.mqtt.connecting = true; },\n    mqttDisconnected(state, reason: string) { state.mqtt.offlineReason = reason; state.mqtt.connected = false; },\n    cameraDiscovered(state, name: string) { state.cameras.push({ name: name, state: 'lost' }); state.cameras.sort((a, b) => { return a.name.localeCompare(b.name) }) },\n    cameraFrameUpdated(state, opts: { name: string; frame: string }) {\n      const idx = state.cameras.findIndex(elt => elt.name === opts.name);\n      if (idx > -1) {\n        Vue.set(state.cameras, idx, Object.assign({}, state.cameras[idx], { lastFrame: opts.frame }))\n      }\n    },\n    cameraStateUpdated(state, opts: { name: string; state: string }) {\n      const idx = state.cameras.findIndex(elt => elt.name === opts.name);\n      if (idx > -1) {\n        Vue.set(state.cameras, idx, Object.assign({}, state.cameras[idx], { state: opts.state }))\n      }\n    }\n  },\n  actions: {\n    async refreshUsername({ state, dispatch, commit }) {\n      const token = await dispatch('refreshToken', {}, { root: true });\n      try {\n        const info = await state.api.client.getAccountInformations(token);\n        commit('usernameSet', info.usernames[0]);\n      } catch (err) {\n        const info = await state.api.client.createAccount(token);\n        commit('usernameSet', info.usernames[0]);\n      }\n    },\n    async refreshFrame({ state }, name: string) {\n      if (state.cameras.some(elt => elt.name === name)) {\n        return new Promise((resolve, reject) => {\n          if (state.mqtt.client == undefined) { resolve(); return; }\n          state.mqtt.client.publish(`devices/${name}/dafang/frame/set`, 'true', { qos: 1 }, (err) => {\n            if (!err) { resolve() } else { reject(err) }\n          });\n        });\n      } else { throw new Error(\"unknown camera\") }\n    },\n    async moveCameraX({ state, dispatch }, opts: { steps: number; name: string }) {\n      if (state.cameras.some(elt => elt.name === opts.name)) {\n        return new Promise((resolve, reject) => {\n          if (state.mqtt.client == undefined) { resolve(); return; }\n          state.mqtt.client.publish(`devices/${opts.name}/dafang/x_axis_incr/set`, opts.steps.toString(), { qos: 1 }, (err) => {\n            if (!err) { resolve() } else { reject() }\n          });\n        });\n      }\n    },\n    async moveCameraY({ dispatch, state }, opts: { steps: number; name: string }) {\n      if (state.cameras.some(elt => elt.name === opts.name)) {\n        return new Promise((resolve, reject) => {\n          if (state.mqtt.client == undefined) { resolve(); return; }\n          state.mqtt.client.publish(`devices/${opts.name}/dafang/y_axis_incr/set`, opts.steps.toString(), { qos: 1 }, (err) => {\n            if (!err) { resolve() } else { reject() }\n          });\n        });\n      }\n    },\n    async startMQTTClient({ commit, state, getters, dispatch }) {\n      commit('mqttConnecting');\n      const token = await dispatch('refreshToken');\n      const devices = await state.api.client.listDevices(token);\n      const oldSelf = devices.find(elt => elt.name === state.mqtt.clientId);\n      if (oldSelf !== undefined) {\n        await state.api.client.deleteDevice(token, oldSelf.id);\n      }\n\n      const password = Math.random().toString(36).substr(2, 16);\n\n      await state.api.client.createDevice(token, { active: true, name: state.mqtt.clientId, password });\n\n      const client = connect('wss://broker.iot.cloud.vx-labs.net:443/mqtt', {\n        connectTimeout: 3 * 1000,\n        protocolId: 'MQIsdp',\n        protocolVersion: 3,\n        clientId: state.mqtt.clientId,\n        username: state.username,\n        password: password,\n        host: 'broker.iot.cloud.vx-labs.net',\n        hostname: 'broker.iot.cloud.vx-labs.net',\n      });\n      commit('mqttStarted', client);\n      client.on('message', (topic, message) => {\n        const t = topic.toString()\n        if (matchPattern(t, 'devices/+/dafang/frame')) {\n          if (message.length > 0) {\n            const tokens = t.split('/');\n            commit('cameraFrameUpdated', { name: tokens[1], frame: message.toString('base64') });\n          }\n        } else if (matchPattern(t, 'devices/+/$nodes')) {\n          const tokens = t.split('/')\n          if (message.toString().split(',').some(elt => elt === 'dafang')) {\n            if (!state.cameras.some(elt => elt.name === tokens[1])) {\n              commit('cameraDiscovered', tokens[1]);\n              client.subscribe(`devices/${tokens[1]}/dafang/#`, { qos: 1 })\n              client.subscribe(`devices/${tokens[1]}/$state`, { qos: 1 })\n            }\n          }\n        } else if (matchPattern(t, 'devices/+/$state')) {\n          const tokens = t.split('/');\n          if (state.cameras.some(elt => elt.name === tokens[1])) {\n            commit('cameraStateUpdated', { name: tokens[1], state: message.toString() });\n          }\n\n        } else if (matchPattern(t, 'devices/+/$homie')) {\n          const tokens = t.split('/');\n          if (message.toString().startsWith('3.')) {\n            client.subscribe(`devices/${tokens[1]}/$nodes`, { qos: 1 })\n          }\n        } else if (matchPattern(t, 'devices/$broadcast/alarm')) {\n          if (message.toString() == 'arm') {\n            commit('alarmArmed');\n          } else {\n            commit('alarmDisarmed')\n          }\n        }\n      });\n      client.on('connect', () => {\n        client.subscribe('devices/$broadcast/alarm', { qos: 1 });\n        client.subscribe('devices/+/$homie', { qos: 1 }, (err) => {\n          if (err === null) {\n            commit('mqttConnected');\n          } else {\n            console.log(err);\n          }\n        })\n      });\n      client.on('error', (err) => commit('mqttDisconnected', err));\n      client.on('reconnect', () => { commit('mqttConnecting') });\n      client.on('disconnect', () => { commit('mqttDisconnected', 'Broker ask us to disconnect') });\n    },\n  },\n  modules: {\n    session,\n  }\n})\n","import Vue from 'vue'\nimport VueRouter, { RouteConfig, NavigationGuard } from 'vue-router'\nimport Home from '../views/Home.vue'\nimport Login from '../views/Login.vue'\nimport store from '../store/index';\n\nVue.use(VueRouter)\n\nconst requireAuth: NavigationGuard<Vue> = (to, from, next) => {\n  if (!store.getters.authenticated) {\n    next({\n      path: '/login',\n      query: { lastPage: to.fullPath }\n    })\n  } else {\n    next()\n  }\n}\n\nconst routes: Array<RouteConfig> = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home,\n    beforeEnter: requireAuth,\n  },\n  { path: '/login', component: Login },\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\nexport default router\n","import Vue from 'vue';\nimport Vuetify from 'vuetify/lib';\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n});\n","import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport store from './store'\nimport vuetify from './plugins/vuetify';\nimport 'roboto-fontface/css/roboto/roboto-fontface.css'\nimport '@mdi/font/css/materialdesignicons.css'\n\nVue.config.productionTip = false\n\nnew Vue({\n  router,\n  store,\n  vuetify,\n  render: h => h(App)\n}).$mount('#app')\n"],"sourceRoot":""}